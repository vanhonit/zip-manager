<script>
    export let filename;
    
    function isFolder() {
        let isFolder = false;
        if (filename[filename.length-1] === '/') {
            isFolder = true;
        }
        return isFolder;
    }
    function checkFileType() {
        let ext = filename.split(".");
        ext = ext[ext.length -1]
        console.log(ext);
        switch(ext) {
            case 'jpg':
            case 'jpeg':
            case 'png':
            case 'webp':
            case 'svg':
            case 'gif':
            case 'bmp':
                return `<svg xmlns="http://www.w3.org/2000/svg" version="1" width="24" viewBox="0 0 48 48" enable-background="new 0 0 48 48">
                    <polygon fill="#90CAF9" points="40,45 8,45 8,3 30,3 40,13"/>
                    <polygon fill="#E1F5FE" points="38.5,14 29,14 29,4.5"/>
                    <polygon fill="#1565C0" points="21,23 14,33 28,33"/>
                    <polygon fill="#1976D2" points="28,26.4 23,33 33,33"/>
                    <circle fill="#1976D2" cx="31.5" cy="24.5" r="1.5"/>
                </svg>`;
            case 'pdf':
                return `<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                    <style type="text/css">
                        .st0{fill:#E5DCDD;}
                        .st1{fill:#005891;}
                        .st2{opacity:6.000000e-02;}
                        .st3{fill:#17292D;}
                        .st4{fill:#BB0706;}
                    </style>
                    <title>pdf-flat</title>
                    <path class="st0" d="M460.8,153.6V448c0,35.3-28.7,64-64,64H115.2c-35.3,0-64-28.7-64-64V64c0-35.3,28.7-64,64-64h192.1l33.4,33.4  L460.8,153.6z"/>
                    <path class="st1" d="M460.8,153.6h-89.6c-35.3,0-64-28.7-64-64V0h0.1L460.8,153.6z"/>
                    <g class="st2">
                        <path class="st3" d="M371.2,153.6c-35.3,0-64-28.7-64-64v25.6c0,35.3,28.7,64,64,64l0,0h89.6v-25.6H371.2z"/>
                    </g>
                    <path class="st4" d="M345.5,363.6L345.5,363.6c-0.3-3.3-3.4-19.3-30.7-18.6c-19.3,0.5-28.1,1.5-31.5,2.1  c-4.1-4.4-18.4-20.2-24.6-33.1c1.7-5.4,8.4-27.4,8.1-42.2c-0.3-13.4-2.8-28.6-19.3-28.6h-0.3c-4.8,0.1-8.6,1.6-11.3,4.6  c-4.3,4.8-5.5,12.6-4.2,26.3c1.3,13,7,27.7,8.6,31.7c-1.3,4.1-6.4,19.5-12.7,34.7c-5.9,14.3-10.4,23.1-11.9,26  c-5.2,1.9-26.1,9.8-36.2,19.4c-9.4,9-17.9,19.6-10,30.6c2.6,3.7,7.6,5.9,13.2,5.9h0.2c10.1,0,20.9-6.7,29.6-18.3  c13.1-17.6,20.1-29.5,22.2-33.2c5-1.4,23.5-6.6,29.8-8.1c5.4-1.3,11.7-2.5,14.5-3c4.9,4.8,24.4,22,43.8,21.4  c9-0.3,15.5-2.7,19.3-7.1C344.6,371.2,345.9,367.4,345.5,363.6z M246.6,254.3c1.1,0,3.7,0,3.8,9.8c0.1,6.5-2.5,17.2-4.5,24.4  c-2.2-6.7-3.4-13.7-3.5-20.8C242.4,257.9,245,254.3,246.6,254.3z M242.4,357.3l2.3-5.3c3.3-7.6,6.6-16.8,8.7-22.8  c4.7,7.4,9.9,14.4,15.5,21.1c-3.1,0.6-7.5,1.6-13.6,3C250,354.7,245.7,356.1,242.4,357.3L242.4,357.3z M183,408.9  c-1.3,0.5-2.7,0.3-3.9-0.4l0,0c-1.1-0.7-1.2-1.2-1-2.1c1.4-6.5,17.2-17.4,27.1-22.6C199.5,393.5,190.3,406.8,183,408.9z   M325.6,359.4c0.9,0.7,1.4,1.7,1.4,2.8c0,2.4-0.9,3.9-2.8,4.7c-5.8,2.4-18.6-1.3-29.5-9.6C306,355.8,320.8,355.4,325.6,359.4  L325.6,359.4z"/>
                    </svg>`;
            case 'doc':
            case 'docx':
                return `<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <path style="fill:#ECEFF1;" d="M496,432.004H272c-8.832,0-16-7.136-16-16s0-311.168,0-320s7.168-16,16-16h224  c8.832,0,16,7.168,16,16v320C512,424.868,504.832,432.004,496,432.004z"/>
                        <g>
                            <path style="fill:#1976D2;" d="M432,176.004H272c-8.832,0-16-7.136-16-16s7.168-16,16-16h160c8.832,0,16,7.168,16,16   S440.832,176.004,432,176.004z"/>
                            <path style="fill:#1976D2;" d="M432,240.004H272c-8.832,0-16-7.136-16-16s7.168-16,16-16h160c8.832,0,16,7.168,16,16   S440.832,240.004,432,240.004z"/>
                            <path style="fill:#1976D2;" d="M432,304.004H272c-8.832,0-16-7.136-16-16c0-8.864,7.168-16,16-16h160c8.832,0,16,7.168,16,16   S440.832,304.004,432,304.004z"/>
                            <path style="fill:#1976D2;" d="M432,368.004H272c-8.832,0-16-7.136-16-16s7.168-16,16-16h160c8.832,0,16,7.168,16,16   S440.832,368.004,432,368.004z"/>
                        </g>
                        <path style="fill:#1565C0;" d="M282.208,19.716c-3.648-3.072-8.544-4.352-13.152-3.424l-256,48C5.504,65.7,0,72.324,0,80.004v352  c0,7.68,5.472,14.304,13.056,15.712l256,48c0.992,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68  c3.68-3.04,5.792-7.552,5.792-12.32v-448C288,27.236,285.888,22.756,282.208,19.716z"/>
                        <path style="fill:#FAFAFA;" d="M207.904,337.796c-0.832,7.328-6.592,13.184-13.92,14.08c-0.672,0.096-1.312,0.128-1.984,0.128  c-6.592,0-12.608-4.096-14.976-10.368L144,253.572l-33.024,88.064c-2.56,6.848-9.28,11.04-16.704,10.272  c-7.264-0.768-13.088-6.4-14.112-13.664l-16-112c-1.248-8.704,4.832-16.832,13.568-18.08c8.768-1.28,16.864,4.832,18.112,13.568  l7.136,50.048l26.016-69.408c4.672-12.48,25.28-12.48,29.984,0l24.512,65.344l8.608-77.504c0.992-8.768,9.12-15.072,17.664-14.144  c8.8,1.024,15.104,8.928,14.144,17.696L207.904,337.796z"/>
                        </svg>`
            default:
                return `<svg xmlns="http://www.w3.org/2000/svg" version="1" width="24" viewBox="0 0 48 48" enable-background="new 0 0 48 48">
                    <polygon fill="#90CAF9" points="40,45 8,45 8,3 30,3 40,13"/>
                    <polygon fill="#E1F5FE" points="38.5,14 29,14 29,4.5"/>
                </svg>`
        }
    }
</script>
<div>
    {#if (isFolder()) }
        <svg version="1" xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 48 48" enable-background="new 0 0 48 48">
            <path fill="#FFA000" d="M40,12H22l-4-4H8c-2.2,0-4,1.8-4,4v8h40v-4C44,13.8,42.2,12,40,12z"/>
            <path fill="#FFCA28" d="M40,12H8c-2.2,0-4,1.8-4,4v20c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V16C44,13.8,42.2,12,40,12z"/>
        </svg>
    {:else}
    {@html checkFileType()}
    {/if}
</div>